<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Заявление ККТ (КНД 1110061) — генератор</title>
    <meta name="description" content="Форма для ввода данных заявления о регистрации (перерегистрации) ККТ (КНД 1110061)">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css?v=175" />
  </head>
  <body>
    <div class="app">
      <header class="app__header">
        <div class="header__content">
          <div class="header__text">
            <h1>Заявление ККТ (КНД 1110061)</h1>
            <p>Введите данные слева — справа будет предпросмотр документа.</p>
          </div>
          <div class="header__logo">
            <svg width="295" height="58" viewBox="0 0 295 58" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_148_4)">
                <path d="M70.8611 29.4707C70.8611 21.216 76.8559 14.9629 85.0456 14.9629C91.5896 14.9629 96.6826 19.0912 98.2894 25.0616H92.294C91.0014 22.176 88.3767 20.4135 85.0067 20.4135C79.952 20.4135 76.504 24.2212 76.504 29.4707C76.504 34.7202 79.952 38.5278 85.0067 38.5278C88.3767 38.5278 91.0014 36.7652 92.294 33.8797H98.2894C96.6826 39.8501 91.5896 43.9784 85.0456 43.9784C76.8559 43.9765 70.8611 37.7253 70.8611 29.4707Z" fill="#2E71FC"/>
                <path d="M101.158 13.999H106.762V43.4981H101.158V13.999Z" fill="#2E71FC"/>
                <path d="M132.417 32.4762C132.417 39.1295 127.479 43.9788 121.171 43.9788C114.901 43.9788 109.965 39.0897 109.965 32.4762C109.965 25.8246 114.981 20.9736 121.171 20.9736C127.401 20.9736 132.417 25.8228 132.417 32.4762ZM115.608 32.4762C115.608 36.1226 118.038 38.5282 121.173 38.5282C124.308 38.5282 126.737 36.1244 126.737 32.4762C126.737 28.8696 124.308 26.4242 121.173 26.4242C118.038 26.4242 115.608 28.8696 115.608 32.4762Z" fill="#2E71FC"/>
                <path d="M155.566 21.4549V43.4964H149.962V40.4496C148.395 42.694 146.279 43.9764 143.301 43.9764C138.561 43.9764 135.623 40.6507 135.623 35.2797V21.4531H141.226V34.0372C141.226 36.9227 142.283 38.5259 145.184 38.5259C148.28 38.5259 149.964 36.642 149.964 33.0354V21.4531H155.566V21.4549Z" fill="#2E71FC"/>
                <path d="M180.89 13.999V43.4981H175.286V40.5328C173.797 42.616 171.524 43.98 168.508 43.98C162.905 43.98 158.674 39.2504 158.674 32.4774C158.674 25.6647 162.944 20.9748 168.469 20.9748C171.526 20.9748 173.799 22.4167 175.288 24.5415V13.999H180.89ZM175.288 32.4774C175.288 28.8709 172.897 26.4254 169.764 26.4254C166.631 26.4254 164.318 28.8709 164.318 32.4774C164.318 36.1238 166.668 38.5294 169.764 38.5294C172.897 38.5294 175.288 36.1238 175.288 32.4774Z" fill="#2E71FC"/>
                <path d="M205.363 43.4946L195.185 30.0907H190.569V43.4946H186.776V13.9883H190.569V27.0564H195.144L204.705 13.9883H209.074L198.112 28.321L209.899 43.4962H205.363V43.4946Z" fill="#2E71FC"/>
                <path d="M218.774 30.9351L225.203 30.3036V28.1949C225.203 25.6241 223.637 23.5585 220.093 23.6001C217.167 23.6001 214.858 24.9062 214.695 27.899H211.356C211.52 22.8821 215.312 20.9014 220.093 20.9014C225.78 20.9014 228.789 23.7264 228.789 28.911V43.4964H225.492V38.9431C224.173 42.0623 221.33 44.0015 217.25 44.0015C212.387 44.0015 210.285 41.2197 210.285 37.7201C210.285 33.6321 213.211 31.4835 218.774 30.9351ZM218.321 41.3461C222.647 41.3461 225.203 38.2684 225.203 34.011V32.6617L219.185 33.2931C215.723 33.6304 213.869 35.0629 213.869 37.5921C213.869 39.661 215.188 41.3461 218.321 41.3461Z" fill="#2E71FC"/>
                <path d="M235.01 37.047C235.3 39.9984 237.442 41.3045 240.863 41.3045C244.078 41.3045 246.221 40.1246 246.221 37.8896C246.221 36.2461 245.025 35.2756 242.058 34.3483L237.402 32.9575C234.063 31.9454 232.373 29.8799 232.373 26.887C232.373 22.6296 235.793 20.9014 240.286 20.9014C245.066 20.9014 248.858 22.8821 249.27 27.4354L245.973 27.6465C245.603 24.8647 243.254 23.6001 240.288 23.6001C237.65 23.5153 235.919 24.6968 235.919 26.7607C235.919 28.5305 237.155 29.5426 239.422 30.2172L244.12 31.6081C247.747 32.6617 249.808 34.5162 249.808 37.7201C249.808 41.8097 246.388 44.0015 240.783 44.0015C235.508 44.0015 232.087 41.936 231.716 37.2149L235.01 37.047Z" fill="#2E71FC"/>
                <path d="M255.314 37.047C255.604 39.9984 257.747 41.3045 261.167 41.3045C264.382 41.3045 266.525 40.1246 266.525 37.8896C266.525 36.2461 265.329 35.2756 262.363 34.3483L257.706 32.9575C254.367 31.9454 252.678 29.8799 252.678 26.887C252.678 22.6296 256.098 20.9014 260.59 20.9014C265.37 20.9014 269.162 22.8821 269.575 27.4354L266.278 27.6465C265.908 24.8647 263.558 23.6001 260.59 23.6001C257.953 23.5153 256.221 24.6968 256.221 26.7607C256.221 28.5305 257.458 29.5426 259.724 30.2172L264.422 31.6081C268.049 32.6617 270.111 34.5162 270.111 37.7201C270.111 41.8097 266.691 44.0015 261.085 44.0015C255.81 44.0015 252.39 41.936 252.018 37.2149L255.314 37.047Z" fill="#2E71FC"/>
                <path d="M273.721 13.0596H277.513V17.7807H273.721V13.0596ZM273.804 21.4066H277.431V43.4948H273.804V21.4066Z" fill="#2E71FC"/>
                <path d="M294.747 21.2389V24.6106C293.84 24.4428 292.727 24.358 291.944 24.358C288.029 24.358 286.175 26.8873 286.175 32.283V43.4949H282.549L282.589 21.4067H285.886V25.96C286.999 22.7561 289.306 20.9863 292.355 20.9863C293.015 20.9847 294.004 21.111 294.747 21.2389Z" fill="#2E71FC"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M28.3566 57.9744C44.0064 57.9744 56.693 44.9984 56.693 28.9916C56.693 12.9849 44.0064 0.00878906 28.3566 0.00878906C12.7069 0.00878906 0.0202637 12.9849 0.0202637 28.9916C0.0202637 44.9984 12.7069 57.9744 28.3566 57.9744ZM22.2686 37.0931L40.6188 18.3242C42.5277 16.3717 45.6206 16.3717 47.5295 18.3242L47.5382 18.3331C49.4471 20.2856 49.4471 23.449 47.5382 25.4014L36.1073 37.0931C32.286 41.0016 26.0899 41.0016 22.2686 37.0931ZM16.0931 39.6592L34.4434 20.8903C30.622 16.9819 24.4259 16.9819 20.6046 20.8903L9.17372 32.582C7.26485 34.5345 7.26485 37.6979 9.17372 39.6503L9.18243 39.6592C11.0914 41.6117 14.1842 41.6117 16.0931 39.6592Z" fill="#2E71FC"/>
              </g>
              <defs>
                <clipPath id="clip0_148_4">
                  <rect width="294.754" height="58" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </div>
        </div>
      </header>

      <main class="app__main">
        <section class="panel panel--form">
          <form id="kkt-form" novalidate>
            <!-- Фиксированный встроенный шаблон: страницы подгружаются автоматически из папки template/ -->

            <fieldset>
              <legend>1. Сведения о заявителе</legend>
              <div class="field">
                <label>Тип заявителя</label>
                <div class="radio-group">
                  <label class="radio-label">
                    <input type="radio" id="applicantType-ip" name="applicantType" value="ip" checked>
                    <span class="radio-text">ИП</span>
                  </label>
                  <label class="radio-label">
                    <input type="radio" id="applicantType-org" name="applicantType" value="org">
                    <span class="radio-text">ЮЛ</span>
                  </label>
                </div>
              </div>
              <div class="field">
                <label for="ogrn">ОГРН/ОГРНИП</label>
                <input id="ogrn" name="ogrn" inputmode="numeric" pattern="^\d{13}$|^\d{15}$" maxlength="15" required placeholder="13 (ОГРН) или 15 (ОГРНИП) цифр" />
              </div>
              <div class="field grid-2">
                <div>
                  <label for="inn">ИНН</label>
                  <input id="inn" name="inn" inputmode="numeric" pattern="^\d{10}|\d{12}$" maxlength="12" required placeholder="10 или 12 цифр" />
                  <small class="hint">10 (для организаций) или 12 (для ИП)</small>
                </div>
                <div>
                  <label for="kpp">КПП</label>
                  <input id="kpp" name="kpp" inputmode="numeric" pattern="^\d{9}$" maxlength="9" placeholder="9 цифр (для организаций)" />
                </div>
              </div>
              <div class="field">
                <label for="orgName">Наименование (ФИО для ИП)</label>
                <input id="orgName" name="orgName" required placeholder="Полное наименование" />
              </div>
              <div class="field">
                <label for="address">Адрес места установки ККТ</label>
                <input id="address" name="address" required placeholder="Адрес" />
              </div>
              <div class="field">
                <label for="zayavitel">Заявитель</label>
                <select id="zayavitel" name="zayavitel">
                  <option value="1" selected>Пользователь</option>
                  <option value="2">Представитель пользователя</option>
                </select>
              </div>
              <div class="field">
                <label for="fioApplicant">ФИО заявителя</label>
                <input id="fioApplicant" name="fioApplicant" placeholder="Фамилия Имя Отчество" />
              </div>
              <div class="field grid-2">
                <div>
                  <label for="phone">Телефон</label>
                  <input id="phone" name="phone" type="tel" placeholder="+7 (___) ___-__-__" />
                </div>
                <div>
                  <label for="email">E‑mail</label>
                  <input id="email" name="email" type="email" placeholder="name@example.com" />
                </div>
              </div>
            </fieldset>

            <fieldset>
              <legend>2. Сведения о ККТ</legend>
              <div class="field grid-2">
                <div>
                  <label for="kktModel">Модель ККТ</label>
                  <select id="kktModel" name="kktModel" required>
                    <option value="">Выберите модель</option>
                    <option value="БФР-112ФС">БФР-112ФС</option>
                    <option value="MicroPay-ФАС">MicroPay-ФАС</option>
                  </select>
                </div>
                <div>
                  <label for="kktSerial">Заводской номер ККТ</label>
                  <input id="kktSerial" name="kktSerial" required placeholder="Заводской номер ККТ" />
                </div>
              </div>
              <div class="field grid-1">
                <div>
                  <label for="fnModel">Модель ФН</label>
                  <select id="fnModel" name="fnModel" required>
                    <option value="">Выберите модель</option>
                    <option value="Ин36-4">Ин36-4</option>
                    <option value="Ин15-4">Ин15-4</option>
                    <option value="other">Другой</option>
                  </select>
                </div>
              </div>
              <div class="field grid-1">
                <div id="fnModelOtherContainer" style="display: none;">
                  <label for="fnModelOther">Укажите модель ФН</label>
                  <input id="fnModelOther" name="fnModelOther" placeholder="Введите модель ФН" />
                </div>
              </div>
              <div class="field grid-1">
                <div>
                  <label for="fiscalDriveNumber">Заводской номер ФН</label>
                  <input id="fiscalDriveNumber" name="fiscalDriveNumber" placeholder="Заводской номер фискального накопителя" />
                </div>
              </div>
              <div class="field grid-1">
                <div>
                  <label for="ofd">ОФД</label>
                  <select id="ofd" name="ofd" required>
                    <option value="">Выберите ОФД</option>
                    <option value="Платформа ОФД (Эвотор)">Платформа ОФД (Эвотор)</option>
                    <option value="ОФД Группа Элемент">ОФД Группа Элемент</option>
                    <option value="Петер-Сервис Спецтехнологии">Петер-Сервис Спецтехнологии</option>
                    <option value="Первый ОФД">Первый ОФД</option>
                    <option value="Такском">Такском</option>
                    <option value="Тензор (СБИС)">Тензор (СБИС)</option>
                    <option value="Яндекс ОФД">Яндекс ОФД</option>
                    <option value="Магнит ОФД (Тандер)">Магнит ОФД (Тандер)</option>
                    <option value="ОФД Ярус">ОФД Ярус</option>
                    <option value="Калуга Астрал">Калуга Астрал</option>
                    <option value="СКБ Контур">СКБ Контур</option>
                    <option value="ИнитПро ОФД">ИнитПро ОФД</option>
                    <option value="билайн ОФД (Вымпелком)">билайн ОФД (Вымпелком)</option>
                    <option value="Контур НТТ">Контур НТТ</option>
                    <option value="ООО «Оператор фискальных данных «Онлайн»">ООО «Оператор фискальных данных «Онлайн»</option>
                    <option value="АО «Информационный центр»">АО «Информационный центр»</option>
                  </select>
                </div>
              </div>
            </fieldset>

            <fieldset>
              <legend>3. Регистрация</legend>
              <div class="field grid-2">
                <div>
                  <label for="operationType">Операция</label>
                  <select id="operationType" name="operationType">
                    <option value="registration">Регистрация</option>
                    <option value="reregistration">Перерегистрация</option>
                  </select>
                </div>
                <div>
                  <label for="ifnsCode">Код ИФНС</label>
                  <input id="ifnsCode" name="ifnsCode" inputmode="numeric" pattern="^\d{4}$" required placeholder="4 цифры" />
                </div>
              </div>
              <div class="field grid-2">
                <div>
                  <label for="applicationDate">Дата заявления</label>
                  <input id="applicationDate" name="applicationDate" type="date" required />
                </div>
                <div>
                  <label for="headName">Руководитель/ИП</label>
                  <input id="headName" name="headName" required placeholder="ФИО" />
                </div>
              </div>
              <div class="field">
                <label for="notes">Дополнительные сведения</label>
                <textarea id="notes" name="notes" rows="3" placeholder="Необязательно"></textarea>
              </div>
            </fieldset>

            <div class="actions">
              <button type="button" id="toggleEditor" class="btn btn--secondary">Редактор позиций</button>
              <button type="button" id="exportPdf" class="btn btn--primary">Экспорт в PDF</button>
              <button type="reset" class="btn btn--ghost">Очистить</button>
            </div>
          </form>
        </section>

        <section class="panel panel--preview">
          <div class="preview-header">
            <div class="page-navigation">
              <button type="button" id="prevPage" class="btn btn--ghost btn--small" disabled>← Предыдущая</button>
              <span class="page-info">
                Страница <span id="currentPageNumber">1</span> из <span id="totalPages">10</span>
              </span>
              <button type="button" id="nextPage" class="btn btn--ghost btn--small">Следующая →</button>
            </div>
          </div>
          <div id="preview" class="preview"></div>
        </section>
      </main>
      
      <!-- Боковая панель редактора позиций -->
      <div id="positionEditor" class="position-editor position-editor--sidebar" style="display: none;">
        <div class="editor-header">
          <h3>Редактор</h3>
          <div class="editor-controls">
            <button type="button" id="addFieldBtn" class="btn btn--small btn--secondary" title="Добавить поле">+</button>
            <button type="button" id="undoBtn" class="btn btn--small btn--ghost" title="Отменить">↶</button>
            <button type="button" id="redoBtn" class="btn btn--small btn--ghost" title="Повторить">↷</button>
            <button type="button" id="savePositions" class="btn btn--small btn--primary" title="Сохранить">💾</button>
            <button type="button" id="resetPositions" class="btn btn--small btn--ghost" title="Сбросить">↻</button>
          </div>
        </div>
        <div class="editor-content">
          <div class="position-info">
            <div class="coord-display">
              <div class="coord-item">
                <span class="coord-label">X:</span>
                <span id="coordX" class="coord-value">0</span>мм
              </div>
              <div class="coord-item">
                <span class="coord-label">Y:</span>
                <span id="coordY" class="coord-value">0</span>мм
              </div>
              <div class="coord-item">
                <span class="coord-label">Элемент:</span>
                <span id="currentElement" class="coord-value">-</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      </main>
    </div>


    <!-- PDF Export Libraries -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
        
        <script src="./editor.js?v=188"></script>
        <script src="./pdf-export.js?v=175"></script>
        <script src="./app.js?v=175"></script>
  </body>
  </html>


